(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[29],{337:function(e,t,a){"use strict";a(0);var r=a(32),c=a(247),n=a(191),s=a(351),i=a(193),l=a(311),o=a(318),j=a(155),b=a(310),d=a(330),x=a(110),m=a(20),O=a(338),u=a.n(O),p=a(74),h=a(1),g=Object(c.a)((function(e){return{followerBlock:{background:"dark"===e.palette.mode?e.palette.dark.main:e.palette.grey[50],border:"dark"===e.palette.mode?"none":"1px solid",borderColor:e.palette.grey[100],textAlign:"center"},profileAvatar:{margin:"auto auto 0"},btnProfile:{width:"100%",borderRadius:"4px",transition:"all .3s ease-in-out","& svg":{width:"20px",height:"20px",margin:"4px 0px",transition:"all .3s ease-in-out"}},active:{background:"dark"===e.palette.mode?e.palette.dark.dark:e.palette.success.light,color:e.palette.success.main},reject:{background:"dark"===e.palette.mode?e.palette.dark.dark:e.palette.error.light,color:e.palette.error.dark},customerHeadDetails:{"& > svg":{width:"15px",height:"15px",verticalAlign:"text-top",marginRight:"5px",marginTop:"2px"}}}}));t.a=function(e){var t=e.game,a=Object(x.a)().colors,c=g();return Object(h.jsxs)(n.a,{className:c.followerBlock,sx:{boxShadow:8},children:[Object(h.jsx)(s.a,{component:"img",image:t.bannerUrl,title:"banner",sx:{height:"125px"}}),Object(h.jsx)(i.a,{sx:{p:2,pb:"16px !important"},children:Object(h.jsxs)(l.a,{container:!0,spacing:1,children:[Object(h.jsx)(l.a,{item:!0,xs:12,children:Object(h.jsx)(l.a,{container:!0,spacing:1,children:Object(h.jsx)(l.a,{item:!0,xs:12,children:Object(h.jsx)(o.a,{title:t.title.length>=32?t.title:"",children:Object(h.jsx)(j.a,{className:c.profileAvatar,variant:"h4",children:p.a.cutString(t.title,32)})})})})}),Object(h.jsxs)(l.a,{item:!0,xs:4,style:{paddingTop:"12px"},children:[t.currencyName,t.isEnded?Object(h.jsx)(b.a,{label:"Ended",size:"small",className:c.reject}):Object(h.jsx)(b.a,{label:"Active",size:"small",className:c.active})]}),Object(h.jsx)(l.a,{item:!0,xs:8,alignItems:"center",children:Object(h.jsxs)(l.a,{container:!0,spacing:1,children:[Object(h.jsx)(l.a,{item:!0,xs:6,children:Object(h.jsxs)(j.a,{variant:"body2",style:{fontSize:"1.6em",color:a.primaryMain},className:c.customerHeadDetails,children:[Object(h.jsx)(m.J,{style:{width:"1em",height:"1em",color:a.infoDark}})," ",t.memberCount]})}),Object(h.jsx)(l.a,{item:!0,xs:6,children:Object(h.jsxs)(j.a,{variant:"body2",style:{fontSize:"1.6em",color:a.primaryMain},className:c.customerHeadDetails,children:[Object(h.jsx)(m.h,{style:{width:"1.1em",height:"1.1em",color:a.warningDark}})," ",t.betCount]})}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]})}),Object(h.jsx)(l.a,{item:!0,xs:12,children:Object(h.jsx)(r.b,{to:"/game/"+p.a.assembleGameOrBetUri(t),children:Object(h.jsx)(d.a,{variant:"contained",color:"primary",className:c.btnProfile,sx:{boxShadow:4},startIcon:Object(h.jsx)(u.a,{}),children:"Play"})})})]})})]})}},630:function(e,t,a){"use strict";a.r(t);var r=a(14),c=a(3),n=a(23),s=a(15),i=a(0),l=a.n(i),o=a(311),j=a(352),b=a(619),d=a(155),x=a(337),m=a(67),O=a(16),u=a(27),p=a(44),h=a(48),g=a(21),f=a(335),v=a(330),y=a(420),k=a(423),w=a(421),S=a(616),C=a(422),N=a(444),A=a.n(N),I=a(1);function z(e){var t=Object.assign({},(Object(f.a)(e),e)),a=l.a.useState(!1),c=Object(s.a)(a,2),b=c[0],x=c[1],m=Object(u.b)(),p=t.getHostedGames,N=Object(i.useRef)(null),z=Object(i.useState)(!1),H=Object(s.a)(z,2),G=H[0],D=H[1],F=function(){x(!1)},B=function(){var e=Object(n.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!G){e.next=2;break}return e.abrupt("return");case 2:return D(!0),t=N.current.querySelectorAll("input")[0].value,e.prev=4,e.next=7,h.a.post(g.a.apiHost+"/v1/games/",{title:t});case 7:D(!0),m({type:O.r,open:!0,message:"Successfully added Game",variant:"alert",alertSeverity:"success",close:!0}),p(),F(),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(4),D(!1),e.abrupt("return",m({type:O.r,open:!0,message:e.t0.response?e.t0.response.data.message:e.t0.toString(),variant:"alert",alertSeverity:"error",close:!0}));case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}();return Object(I.jsxs)(o.a,{container:!0,justifyContent:"center",children:[Object(I.jsx)(v.a,{style:{width:"100%"},variant:"contained",color:"secondary",sx:{boxShadow:8},startIcon:Object(I.jsx)(A.a,{}),onClick:function(){x(!0),D(!1)},children:"Create A New Game"}),Object(I.jsxs)(y.a,{fullWidth:!0,open:b,onClose:F,"aria-labelledby":"form-dialog-title",children:[Object(I.jsx)(k.a,{id:"form-dialog-title",children:Object(I.jsx)(d.a,{style:{fontSize:"1.7em",fontWeight:"bold"},children:"Create a new Game"})}),Object(I.jsx)(w.a,{children:Object(I.jsx)(o.a,{container:!0,spacing:1,children:Object(I.jsx)(o.a,{item:!0,xs:12,lg:12,children:Object(I.jsx)(S.a,{fullWidth:!0,ref:N,id:"outlined-basic",label:"Title"})})})}),Object(I.jsxs)(C.a,{sx:{pr:2.5},children:[Object(I.jsx)(v.a,{onClick:F,color:"error",children:"Cancel"}),Object(I.jsx)(v.a,{variant:"contained",size:"small",onClick:B,color:"primary",children:G?Object(I.jsxs)(I.Fragment,{children:[" ",Object(I.jsx)(j.a,{color:"secondary",size:"1.7em"})]}):"Create"})]})]})]})}var H=a(109);t.default=function(){var e=Object(i.useState)(!0),t=Object(s.a)(e,2),a=t[0],l=t[1],f=Object(i.useState)([]),v=Object(s.a)(f,2),y=v[0],k=v[1],w=Object(p.a)().user,S=Object(i.useState)({index:1,maxIndex:1}),C=Object(s.a)(S,2),N=C[0],A=C[1],G=Object(u.b)(),D=function(){var e=Object(n.a)(Object(r.a)().mark((function e(){var t;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,h.a.get(g.a.apiHost+"/v1/games/",{params:{userId:w.id,sortBy:"-_createdAt",limit:9,page:N.index}});case 4:t=e.sent,k(t.data.results),A(Object(c.a)(Object(c.a)({},N),{},{maxIndex:t.data.totalPages})),l(!1),e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),l(!1),console.log(e.t0),e.abrupt("return",G({type:O.r,open:!0,message:e.t0.response?e.t0.response.data.message:e.t0.toString(),variant:"alert",alertSeverity:"error",close:!0}));case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(n.a)(Object(r.a)().mark((function e(t,a,n){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(Object(c.a)(Object(c.a)({},N),{},{index:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){D()}),[N.index]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(H.a,{children:[Object(I.jsx)("title",{children:"Hosted Games"}),Object(I.jsx)("meta",{name:"description",content:"The games hosted by you."}),Object(I.jsx)("meta",{name:"keywords",content:"hosted,hosted games,own games,my games"})]}),Object(I.jsx)(z,{getHostedGames:D}),a?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(o.a,{item:!0,xs:12,lg:12,style:{textAlign:"center"},children:Object(I.jsx)(j.a,{color:"secondary",size:"10em"})})]}):"",!a&&y.length>0?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("br",{}),Object(I.jsx)(o.a,{container:!0,spacing:m.b,children:y.map((function(e){return Object(I.jsx)(o.a,{item:!0,xs:12,lg:4,children:Object(I.jsx)(x.a,{game:e})},e.id)}))}),Object(I.jsx)("br",{}),Object(I.jsx)(o.a,{container:!0,direction:"column",spacing:2,alignItems:"center",children:Object(I.jsx)(o.a,{item:!0,xs:12,children:Object(I.jsx)(b.a,{page:N.index,onChange:F,count:N.maxIndex,color:"primary"})})})]}):"",a||0!==y.length?"":Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("br",{}),Object(I.jsx)("br",{}),Object(I.jsx)(o.a,{container:!0,direction:"column",spacing:2,alignItems:"center",children:Object(I.jsx)(o.a,{item:!0,xs:12,children:Object(I.jsx)(d.a,{variant:"h3",children:"No games to show."})})})]})]})}}}]);
//# sourceMappingURL=29.d203e69e.chunk.js.map