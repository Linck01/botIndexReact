(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[26],{384:function(e,t,a){"use strict";var r=a(7),n=a(24),c=a(86),i=(a(0),a(286)),s=a(354),l=a(1),o=["className","color","outline","size"],d=Object(i.a)((function(e){return{primaryBackground:{background:e.palette.primary.main,color:e.palette.background.paper},secondaryBackground:{background:e.palette.secondary.main,color:e.palette.background.paper},errorBackground:{background:e.palette.error.main,color:e.palette.background.paper},warningBackground:{background:e.palette.warning.dark,color:e.palette.background.paper},infoBackground:{background:e.palette.info.main,color:e.palette.background.paper},successBackground:{background:e.palette.success.dark,color:e.palette.background.paper},darkBackground:{background:e.palette.dark.dark,color:e.palette.dark.light},greyBackground:{background:e.palette.grey[500],color:e.palette.background.paper},primaryOutline:{background:e.palette.background.paper,color:e.palette.primary.main,border:"2px solid "+e.palette.primary.main},secondaryOutline:{background:e.palette.background.paper,color:e.palette.secondary.main,border:"2px solid "+e.palette.secondary.main},errorOutline:{background:e.palette.background.paper,color:e.palette.error.main,border:"2px solid "+e.palette.error.main},warningOutline:{background:e.palette.background.paper,color:e.palette.warning.dark,border:"2px solid "+e.palette.warning.dark},infoOutline:{background:e.palette.background.paper,color:e.palette.info.main,border:"2px solid "+e.palette.info.main},successOutline:{background:e.palette.background.paper,color:e.palette.success.dark,border:"2px solid "+e.palette.success.dark},greyOutline:{background:e.palette.background.paper,color:e.palette.grey[500],border:"2px solid "+e.palette.grey[500]},darkOutline:{background:e.palette.background.paper,color:e.palette.dark.dark,border:"2px solid "+e.palette.dark.dark},badge:{width:e.spacing(3.5),height:e.spacing(3.5)},xs:{width:e.spacing(4.25),height:e.spacing(4.25)},sm:{width:e.spacing(5),height:e.spacing(5)},md:{width:e.spacing(7.5),height:e.spacing(7.5)},lg:{width:e.spacing(9),height:e.spacing(9)},xl:{width:e.spacing(10.25),height:e.spacing(10.25)}}}));t.a=function(e){var t=e.className,a=e.color,i=e.outline,b=e.size,j=Object(c.a)(e,o),u=d(),p=[];return p=a?i?[u[a+"Outline"]].concat(Object(n.a)(p)):[u[a+"Background"]].concat(Object(n.a)(p)):p,p=b?[u[b]].concat(Object(n.a)(p)):p,t&&(p=t?[].concat(Object(n.a)(p),[t]):p),Object(l.jsx)(s.a,Object(r.a)({className:p.join(" ")},j))}},386:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/img-profile-bg.2b15e931.png"},420:function(e,t,a){"use strict";var r=a(0),n=a.n(r),c=a(286),i=a(353),s=a(173),l=a(356),o=a(291),d=a(421),b=a.n(d),j=a(19),u=a(66),p=a(128),g=a(129),x=a(1),m=Object(c.a)((function(e){return{successBadge:{color:e.palette.success.dark,width:"14px",height:"14px"},iconError:{width:"60px",height:"60px",color:"dark"===e.palette.mode?e.palette.error.dark:e.palette.error.light},iconSuccess:{width:"60px",height:"60px",color:"dark"===e.palette.mode?e.palette.success.dark:e.palette.success.main},iconWarning:{width:"60px",height:"60px",color:"dark"===e.palette.mode?e.palette.warning.dark:e.palette.warning.main},iconInfo:{width:"60px",height:"60px",color:"dark"===e.palette.mode?e.palette.info.dark:e.palette.info.light},btnTable:{width:"100%","&:hover":{background:e.palette.secondary.main,borderColor:e.palette.secondary.main,color:"#fff"}},tableSubContent:{whiteSpace:"break-spaces"},divider:{opacity:.1,borderColor:"dark"===e.palette.mode?e.palette.dark.light:e.palette.primary.light}}}));t.a=function(e){var t=e.bet,a=m(),r=n.a.useContext(u.b),c=(r.game,r.socket,r.amIAdmin,r.amIMod,Object(g.a)().colors),d=function(e){var t,a,r,n,c=new Date(e._createdAt).getTime(),i=Date.now(),s=new Date(e.timeLimit).getTime(),l=0;return l=s<i?100:i<c?0:Math.floor((i-c)/(s-c)*100),e.isAborted?(t=j.H,n="aborted",a="Aborted",r="errorDark"):e.isSolved?(t=j.k,n="isSolved",a="Solved",r="successDark"):l<100?(t=j.i,n="inProgress",a="In progress",r="warningDark"):(t=j.h,n="ended",a="Ended",r="infoDark"),{progress:l,icon:t,title:a,color:r,tag:n}}(t);return Object(x.jsxs)(i.a,{container:!0,spacing:1,children:[Object(x.jsxs)(i.a,{item:!0,xs:3,textAlign:"center",children:[Object(x.jsx)(d.icon,{style:{color:c[d.color],width:"5em",height:"5em"}}),Object(x.jsx)("br",{}),Object(x.jsx)(s.a,{variant:"caption",style:{paddingLeft:"5%"},children:d.title})]}),Object(x.jsxs)(i.a,{item:!0,xs:9,align:"left",children:[Object(x.jsxs)(s.a,{align:"left",style:{fontSize:"1.6em"},variant:"subtitle1",children:[t.title,"active"===t.badgeStatus&&Object(x.jsx)(b.a,{className:a.successBadge})]}),Object(x.jsxs)(s.a,{align:"left",variant:"subtitle2",className:a.tableSubContent,children:[p.a.formatDateTime(t._createdAt)," - ",p.a.formatDateTime(t.timeLimit)]}),t.isSolved?p.a.getCorrectAnswerStrings(t,40).correctAnswerStrings.map((function(e){return Object(x.jsxs)(n.a.Fragment,{children:[Object(x.jsx)(l.a,{label:e,variant:"outlined",style:{color:c.successDark,borderColor:c.successDark,marginTop:"5px"}}),Object(x.jsx)(s.a,{align:"left",variant:"caption",color:"primary",className:a.tableSubContent,children:p.a.getCorrectAnswerStrings(t,40).moreAnswersString})]},e)})):Object(x.jsxs)(i.a,{container:!0,spacing:0,children:[Object(x.jsxs)(i.a,{item:!0,xs:10,children:[Object(x.jsx)("br",{}),Object(x.jsx)(o.a,{variant:"determinate",value:d.progress,color:"primary",style:{width:"90%"}}),Object(x.jsx)(s.a,{align:"left",variant:"subtitle1",children:p.a.hasBetEnded(t)?"":p.a.timeLeftString(t.timeLimit)})]}),Object(x.jsx)(i.a,{item:!0,xs:2})]})]})]})}},677:function(e,t,a){"use strict";a.r(t);var r=a(16),n=a.n(r),c=a(7),i=a(23),s=a(11),l=a(0),o=a.n(l),d=a(66),b=a(128),j=a(25),u=a(286),p=a(353),g=a(173),x=a(376),m=a(215),h=a(58),O=a(383),f=a.n(O),k=a(420),v=(a(129),a(1)),y=Object(u.a)((function(e){return{successBadge:{color:e.palette.success.dark,width:"14px",height:"14px"},iconError:{width:"60px",height:"60px",color:"dark"===e.palette.mode?e.palette.error.dark:e.palette.error.light},iconSuccess:{width:"60px",height:"60px",color:"dark"===e.palette.mode?e.palette.success.dark:e.palette.success.main},iconWarning:{width:"60px",height:"60px",color:"dark"===e.palette.mode?e.palette.warning.dark:e.palette.warning.main},iconInfo:{width:"60px",height:"60px",color:"dark"===e.palette.mode?e.palette.info.dark:e.palette.info.light},btnTable:{width:"100%","&:hover":{background:e.palette.secondary.main,borderColor:e.palette.secondary.main,color:"#fff"}},tableSubContent:{whiteSpace:"break-spaces"},divider:{opacity:.1,borderColor:"dark"===e.palette.mode?e.palette.dark.light:e.palette.primary.light}}})),w=function(e){var t=e.bet,a=y(),r=o.a.useContext(d.b),n=r.game;r.socket,r.amIAdmin,r.amIMod;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(p.a,{container:!0,spacing:h.b,alignItems:"center",children:[Object(v.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(v.jsx)(k.a,{bet:t})}),Object(v.jsx)(p.a,{item:!0,xs:12,md:6,children:Object(v.jsxs)(p.a,{container:!0,spacing:1,children:[Object(v.jsxs)(p.a,{item:!0,xs:4,md:4,children:[Object(v.jsx)(g.a,{variant:"caption",children:"Members"}),Object(v.jsx)(g.a,{variant:"h6",children:t.memberCount})]}),Object(v.jsxs)(p.a,{item:!0,xs:4,md:4,children:[Object(v.jsx)(g.a,{variant:"caption",children:"In Pot"}),Object(v.jsx)(g.a,{variant:"h6",children:t.inPot.$numberDecimal})]}),Object(v.jsxs)(p.a,{item:!0,xs:4,md:4,children:[Object(v.jsx)(g.a,{variant:"caption",children:"Type"}),Object(v.jsx)(g.a,{variant:"h6",children:b.a.capitalizeFirstLetter(t.betType)})]}),Object(v.jsx)(p.a,{item:!0,xs:12,md:12,children:Object(v.jsx)(j.b,{style:{textDecoration:"none"},to:"/game/"+n.id+"/bet/"+t.id,children:Object(v.jsx)(x.a,{variant:"outlined",color:"primary",size:"small",className:a.btnTable,startIcon:Object(v.jsx)(f.a,{}),children:"Details"})})})]})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(m.a,{className:a.divider}),Object(v.jsx)("br",{})]})},C=a(419),S=a(676),z=a(26),I=(a(102),a(447)),A=a(450),D=a(448),B=a(344),F=a(370),T=a(358),L=a(371),P=a(346),W=a(449),_=a(17),N=a(37),V=a(51),M=a(21),E=a(661),H=a(673),R=a(672),J=function(e){var t=e.value,a=e.setValue;return Object(v.jsx)(E.b,{dateAdapter:R.a,children:Object(v.jsx)(H.a,{indicatorColor:"primary",renderInput:function(e){return Object(v.jsx)(B.a,Object(c.a)(Object(c.a)({fullWidth:!0},e),{},{helperText:""}))},label:"Time Limit",value:t,onChange:function(e){a(e)},sx:{"& .MuiTabs-flexContainer .MuiTabs-indicator":{bgcolor:"primary.main"}}})})},$=a(24),q=a(19);function G(e){var t=Object.assign({},e),a=t.catalogue_answers,r=t.setCatalogue_answers,n=function(e,t,n){var c=Object($.a)(a);c[n][t]=e.target.value,r(c)};return Object(l.useEffect)((function(){}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{container:!0,spacing:h.b,children:Object(v.jsx)(p.a,{item:!0,xs:12,lg:6,children:Object(v.jsx)(g.a,{variant:"h4",children:"Answers"})})}),Object(v.jsx)("br",{}),Object(v.jsxs)(p.a,{container:!0,spacing:1,children:[a.map((function(e,t){return Object(v.jsxs)(o.a.Fragment,{children:[Object(v.jsx)(p.a,{item:!0,xs:8,lg:10,children:Object(v.jsx)(B.a,{onChange:function(e){return n(e,"title",t)},fullWidth:!0,id:"outlined-basic-size-small",label:"Answer  "+(t+1),size:"small",defaultValue:"",inputProps:{maxLength:64}})}),Object(v.jsx)(p.a,{item:!0,xs:4,lg:2,children:Object(v.jsx)(B.a,{onChange:function(e){return n(e,"odds",t)},fullWidth:!0,id:"outlined-basic-size-small",label:"Odds  "+(t+1),type:"number",size:"small",defaultValue:"2",inputProps:{maxLength:10}})})]},t)})),Object(v.jsx)(p.a,{item:!0,xs:12,textAlign:"center",children:Object(v.jsx)(x.a,{onClick:function(){if(!(a.length>32)){var e=Object($.a)(a);e.push({title:"",odds:2}),r(e)}},children:Object(v.jsx)(q.o,{stroke:1.5,size:"3rem"})})})]})]})}var K=a(348);function Q(e){return"".concat(e,"\xb0C")}function U(e){var t=e.scale_options,a=e.setScale_options,r=Object(l.useState)(0),n=Object(s.a)(r,2),i=n[0],o=n[1];return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{variant:"h4",children:"Scale"}),Object(v.jsx)("br",{}),Object(v.jsxs)(p.a,{container:!0,spacing:h.b,children:[Object(v.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(B.a,{fullWidth:!0,id:"outlined-basic-size-small",onChange:function(e){return a(Object(c.a)(Object(c.a)({},t),{},{odds:parseFloat(e.target.value)}))},label:"Odds",type:"number",size:"small",inputProps:{maxLength:16},defaultValue:t.odds})}),Object(v.jsx)(p.a,{item:!0,xs:12,sm:6,children:Object(v.jsx)(B.a,{fullWidth:!0,id:"outlined-basic-size-small",onChange:function(e){return a(Object(c.a)(Object(c.a)({},t),{},{winRate:parseInt(e.target.value)}))},label:"Win Percent",type:"number",size:"small",inputProps:{maxLength:16},defaultValue:t.winRate})}),Object(v.jsx)(p.a,{item:!0,xs:12,sm:4,children:Object(v.jsx)(B.a,{fullWidth:!0,id:"outlined-basic-size-small",onChange:function(e){return a(Object(c.a)(Object(c.a)({},t),{},{step:parseFloat(e.target.value)}))},label:"Step",type:"number",size:"small",inputProps:{maxLength:16},defaultValue:t.step})}),Object(v.jsx)(p.a,{item:!0,xs:12,sm:4,children:Object(v.jsx)(B.a,{fullWidth:!0,id:"outlined-basic-size-small",onChange:function(e){return a(Object(c.a)(Object(c.a)({},t),{},{min:parseFloat(e.target.value)}))},label:"Min",type:"number",size:"small",inputProps:{maxLength:16},defaultValue:t.min})}),Object(v.jsx)(p.a,{item:!0,xs:12,sm:4,children:Object(v.jsx)(B.a,{fullWidth:!0,id:"outlined-basic-size-small",onChange:function(e){return a(Object(c.a)(Object(c.a)({},t),{},{max:parseFloat(e.target.value)}))},label:"Max",type:"number",size:"small",inputProps:{maxLength:16},defaultValue:t.max})})]}),Object(v.jsx)("br",{}),Object(v.jsx)(g.a,{variant:"h4",children:"Preview"}),Object(v.jsx)("br",{}),Object(v.jsx)(p.a,{container:!0,spacing:h.b,children:Object(v.jsxs)(p.a,{item:!0,xs:12,container:!0,spacing:2,alignItems:"center",sx:{mt:2.5},children:[Object(v.jsx)(p.a,{item:!0,children:Object(v.jsx)(g.a,{variant:"h6",color:"primary",children:t.min})}),Object(v.jsx)(p.a,{item:!0,xs:!0,children:Object(v.jsx)(K.a,{value:i,onChange:function(e){return o(parseFloat(e.target.value))},getAriaValueText:Q,valueLabelDisplay:"on",min:t.min,max:t.max,step:t.step},"slider1")}),Object(v.jsx)(p.a,{item:!0,children:Object(v.jsx)(g.a,{variant:"h6",color:"primary",children:t.max})})]})})]})}function X(e){Object.assign({},e);var t=Object(l.useContext)(d.b).game,a=o.a.useState(!1),r=Object(s.a)(a,2),c=r[0],b=r[1],j=Object(l.useState)(!1),u=Object(s.a)(j,2),m=u[0],h=u[1],O=Object(z.b)(),f=o.a.useState(""),k=Object(s.a)(f,2),y=k[0],w=k[1],S=o.a.useState(""),N=Object(s.a)(S,2),E=N[0],H=N[1],R=o.a.useState(new Date),$=Object(s.a)(R,2),q=$[0],K=$[1],Q=o.a.useState("catalogue"),X=Object(s.a)(Q,2),Y=X[0],Z=X[1],ee=o.a.useState([{title:"",odds:2},{title:"",odds:2}]),te=Object(s.a)(ee,2),ae=te[0],re=te[1],ne=o.a.useState({step:1,min:2,max:10,odds:2,winRate:50}),ce=Object(s.a)(ne,2),ie=ce[0],se=ce[1],le=function(){b(!1)},oe=function(){var e=Object(i.a)(n.a.mark((function e(){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,(a=new Date(q)).setSeconds(0),r={gameId:t.id,betType:Y,title:E,desc:y,timeLimit:a},"catalogue"==Y&&(r.catalogue_answers=ae),"scale"==Y&&(r.scale_options=ie),e.next=9,V.a.post(M.a.gameHosts[t.serverId]+"/v1/bets/",r);case 9:e.sent,O({type:_.v,open:!0,message:"Successfully added Bet",variant:"alert",alertSeverity:"success",close:!0}),h(!1),b(!1),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(1),h(!1),e.abrupt("return",O({type:_.v,open:!0,message:e.t0.response?e.t0.response.data.message:e.t0.toString(),variant:"alert",alertSeverity:"error",close:!0}));case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(p.a,{container:!0,justifyContent:"center",children:[Object(v.jsx)(x.a,{style:{width:"100%"},variant:"outlined",color:"secondary",onClick:function(){b(!0)},children:"Create A New Bet"}),Object(v.jsxs)(I.a,{fullWidth:!0,open:c,onClose:le,"aria-labelledby":"form-dialog-title",children:[Object(v.jsx)(A.a,{id:"form-dialog-title",children:Object(v.jsx)(g.a,{style:{fontSize:"1.7em",fontWeight:"bold"},children:"Create a new bet"})}),Object(v.jsxs)(D.a,{children:[Object(v.jsxs)(p.a,{container:!0,spacing:1,children:[Object(v.jsx)(p.a,{item:!0,xs:12,lg:6,children:Object(v.jsx)(B.a,{fullWidth:!0,onChange:function(e){return H(e.target.value)},id:"outlined-basic",label:"Title"})}),Object(v.jsx)(p.a,{item:!0,xs:12,lg:6,children:Object(v.jsx)(J,{value:q,setValue:K})}),Object(v.jsx)(p.a,{item:!0,xs:12,children:Object(v.jsx)(B.a,{fullWidth:!0,value:y,onChange:function(e){return w(e.target.value)},id:"outlined-multiline-flexible",label:"Description",multiline:!0,rows:3})})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(p.a,{container:!0,justifyContent:"center",spacing:3,children:Object(v.jsx)(F.a,{children:Object(v.jsxs)(T.a,{row:!0,"aria-label":"gender",value:Y,onChange:function(e){return Z(e.target.value)},name:"row-radio-buttons-group",children:[Object(v.jsx)(L.a,{value:"catalogue",control:Object(v.jsx)(P.a,{}),label:"Catalogue"}),Object(v.jsx)(L.a,{value:"scale",control:Object(v.jsx)(P.a,{}),label:"Scale"})]})})}),Object(v.jsx)("br",{}),"catalogue"==Y?Object(v.jsx)(G,{catalogue_answers:ae,setCatalogue_answers:re}):"","scale"==Y?Object(v.jsx)(U,{scale_options:ie,setScale_options:se}):""]}),Object(v.jsxs)(W.a,{sx:{pr:2.5},children:[Object(v.jsx)(x.a,{onClick:le,color:"error",children:"Cancel"}),Object(v.jsx)(x.a,{variant:"contained",size:"small",onClick:oe,color:"primary",children:m?Object(v.jsxs)(v.Fragment,{children:[" ",Object(v.jsx)(C.a,{color:"secondary",size:"1.7em"})]}):"Create"})]})]})]})}a(116),a(31),a(368),a(347),a(367),a(384),a(68),a(386),t.default=function(){var e=Object(l.useContext)(d.b),t=e.game,a=(e.socket,e.privileges),r=e.betsPage,o=e.setBetsPage,b=(Object(N.a)().user,Object(z.b)()),j=Object(l.useState)(!1),u=Object(s.a)(j,2),x=u[0],m=u[1],h=function(){var e=Object(i.a)(n.a.mark((function e(){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,V.a.get(M.a.apiHost+"/v1/bets/",{params:{gameId:t.id,sortBy:"-_createdAt",limit:5,page:r.index}});case 4:a=e.sent,o(Object(c.a)(Object(c.a)({},r),{},{items:a.data.results,maxIndex:a.data.totalPages})),m(!1),e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(1),m(!1),console.log(e.t0),e.abrupt("return",b({type:_.v,open:!0,message:e.t0.response?e.t0.response.data.message:e.t0.toString(),variant:"alert",alertSeverity:"error",close:!0}));case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(i.a)(n.a.mark((function e(t,a,i){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,a,i),o(Object(c.a)(Object(c.a)({},r),{},{index:a}));case 2:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){h()}),[r.index]),Object(v.jsxs)(v.Fragment,{children:[a.admin||a.mod?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(X,{}),Object(v.jsx)("br",{})]}):"",x?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsx)(p.a,{container:!0,justifyContent:"center",children:Object(v.jsx)(C.a,{color:"secondary",size:"10em"})})]}):"",!x&&r.items.length>0?Object(v.jsxs)(v.Fragment,{children:[r.items.map((function(e){return Object(v.jsx)(w,{bet:e},e.id)})),Object(v.jsx)("br",{}),Object(v.jsx)(p.a,{container:!0,direction:"column",spacing:2,alignItems:"center",children:Object(v.jsx)(p.a,{item:!0,xs:12,children:Object(v.jsx)(S.a,{page:r.index,onChange:O,count:r.maxIndex,color:"primary"})})})]}):"",x||0!=r.items.length?"":Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsx)(p.a,{container:!0,direction:"column",spacing:2,alignItems:"center",children:Object(v.jsx)(p.a,{item:!0,xs:12,children:Object(v.jsx)(g.a,{variant:"h3",children:"No bets to show."})})})]})]})}}}]);
//# sourceMappingURL=26.f4584aaa.chunk.js.map