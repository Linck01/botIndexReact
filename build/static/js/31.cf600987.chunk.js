(this["webpackJsonpberry-material-react"]=this["webpackJsonpberry-material-react"]||[]).push([[31],{681:function(e,t,r){"use strict";r.r(t);var a=r(17),n=r.n(a),c=r(23),s=r(12),i=r(0),l=r.n(i),o=r(289),u=r(31),j=r(357),b=r(175),d=r(374),O=r(376),m=r(348),x=r(66),h=r(456),p=r.n(h),g=r(375),y=r(346),f=r(340),v=r(58),C=r(457),w=r.n(C),S=r(117),k=r(1),N=function(e){Object(u.a)();var t=e.currencyName,r=e.setCurrencyName,a=l.a.useState(null),n=Object(s.a)(a,2),c=n[0],i=n[1],o=Boolean(c),b=o?"simple-popper":void 0;return Object(k.jsxs)(j.a,{container:!0,spacing:v.b,alignItems:"center",children:[Object(k.jsxs)(j.a,{item:!0,xs:1,children:[Object(k.jsx)(g.a,{ref:c,"aria-describedby":b,size:"small",onClick:function(e){i(c?null:e.currentTarget)},children:Object(k.jsx)(w.a,{})}),Object(k.jsx)(y.a,{position:"top",id:b,open:o,anchorEl:c,disablePortal:!0,popperOptions:{modifiers:[{name:"offset",options:{offset:[-20,20]}}]},children:Object(k.jsx)(f.a,{onClickAway:function(){i(null)},children:Object(k.jsxs)(S.a,{elevation:8,content:!1,children:[" ",Object(k.jsx)(p.a,{onEmojiClick:function(e,a){r(t+a.emoji)},skinTone:h.SKIN_TONE_MEDIUM_DARK,disableAutoFocus:!0})]})})})]}),Object(k.jsx)(j.a,{item:!0,xs:9,children:Object(k.jsx)(m.a,{style:{width:"100%"},fullWidth:!0,label:"Name/Symbol",variant:"outlined",value:t,onChange:function(e){return r(e.target.value)}})})]})},P=Object(o.a)((function(e){return{temp:{}}})),E=function(e){P(),Object(u.a)(),l.a.useContext(x.b).game;var t=e.startCurrency,r=e.setStartCurrency,a=(e.password,e.setPassword,e.isPublic),n=e.setIsPublic,c=e.currencyName,s=e.setCurrencyName,i=e.isEnded,o=e.setIsEnded;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(j.a,{container:!0,spacing:v.b,children:[Object(k.jsx)(j.a,{item:!0,xs:12,children:Object(k.jsx)(b.a,{variant:"h3",children:"Accessibility"})}),Object(k.jsx)(j.a,{item:!0,xs:6,md:6,children:Object(k.jsx)(d.a,{control:Object(k.jsx)(O.a,{checked:a,onChange:function(){return n(!a)},name:"isPublic",color:"primary"}),label:"Public"})}),Object(k.jsx)(j.a,{item:!0,xs:6,md:6,children:Object(k.jsx)(d.a,{control:Object(k.jsx)(O.a,{checked:i,onChange:function(){return o(!i)},name:"isEnded",color:"primary"}),label:"Ended"})})]}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsxs)(j.a,{container:!0,spacing:v.b,children:[Object(k.jsxs)(j.a,{item:!0,xs:12,children:[Object(k.jsx)(b.a,{variant:"h3",children:"Currency"}),Object(k.jsx)("br",{})]}),Object(k.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(N,{currencyName:c,setCurrencyName:s})}),Object(k.jsx)(j.a,{item:!0,xs:12,md:6,children:Object(k.jsx)(j.a,{item:!0,xs:12,children:Object(k.jsx)(m.a,{style:{width:"100%"},fullWidth:!0,label:"Start amount",variant:"outlined",value:t,onChange:function(e){return r(e.target.value)}})})})]})]})},D=r(694),T=r(460),U=function(e){Object(u.a)(),l.a.useContext(x.b).game;var t=e.title,r=e.setTitle,a=e.desc,n=e.setDesc,c=e.bannerUrl,s=e.setBannerUrl,i=e.language,o=e.setLanguage;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(j.a,{container:!0,spacing:v.b,children:[Object(k.jsx)(j.a,{item:!0,xs:12,children:Object(k.jsx)(b.a,{variant:"h3",children:"Main"})}),Object(k.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(k.jsx)(m.a,{style:{width:"100%"},fullWidth:!0,label:"Title",variant:"outlined",value:t,onChange:function(e){return r(e.target.value)}})}),Object(k.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(k.jsx)(m.a,{style:{width:"100%"},fullWidth:!0,label:"Description",variant:"outlined",minRows:"3",multiline:!0,value:a,onChange:function(e){return n(e.target.value)}})}),Object(k.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(k.jsx)(m.a,{style:{width:"100%"},fullWidth:!0,label:"Banner Url",variant:"outlined",value:c,onChange:function(e){return s(e.target.value)}})}),Object(k.jsx)(j.a,{item:!0,xs:12,md:12,children:Object(k.jsx)(m.a,{id:"outlined-select-currency",select:!0,fullWidth:!0,label:"Language",value:i,onChange:function(e){return o(e.target.value)},variant:"outlined",children:Object.keys(T).map((function(e,t){return Object(k.jsx)(D.a,{value:e,children:T[e][0]},e)}))})})]})})},W=r(379),I=r(450),z=r(453),A=r(451),B=r(625),F=r(452),R=r(414),H=(r(130),r(26)),L=r(30),M=r(16),$=r(37),_=r(51),J=r(21),K=Object(o.a)((function(e){return{toggleButton:{backgroundColor:e.palette.error.main}}}));function G(e){Object(u.a)(),K();var t=Object(i.useContext)(x.b).game,r=l.a.useState(!1),a=Object(s.a)(r,2),o=a[0],d=a[1],O=Object(i.useState)(!1),m=Object(s.a)(O,2),h=m[0],p=m[1],g=Object(H.b)(),y=Object($.a)().user,f=Object(L.g)(),v=function(){d(!1)},C=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),y){e.next=4;break}return p(!1),e.abrupt("return",g({type:M.w,open:!0,message:"Please log in to delete the game!",variant:"alert",alertSeverity:"error",close:!0}));case 4:return e.prev=4,e.next=7,_.a.delete(J.a.apiHost+"/v1/games/"+t.id,{});case 7:e.sent,f.push("/games/hosted"),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(4),p(!1),e.abrupt("return",g({type:M.w,open:!0,message:e.t0.response?e.t0.response.data.message:e.t0.toString(),variant:"alert",alertSeverity:"error",close:!0}));case 15:p(!1),g({type:M.w,open:!0,message:"Successfully deleted game.",variant:"alert",alertSeverity:"success",close:!0});case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)(j.a,{container:!0,justifyContent:"center",children:[Object(k.jsx)(W.a,{style:{width:"100%"},variant:"outlined",color:"error",onClick:function(){d(!0)},children:"Delete game"}),Object(k.jsxs)(I.a,{fullWidth:!0,open:o,onClose:v,"aria-labelledby":"form-dialog-title",children:[Object(k.jsx)(z.a,{id:"form-dialog-title",children:Object(k.jsx)(b.a,{style:{fontSize:"1.7em",fontWeight:"bold"},children:"Delete game"})}),Object(k.jsx)(A.a,{children:Object(k.jsxs)(B.a,{children:["Are you sure you want to delete the game? This will ",Object(k.jsx)("br",{}),"- Remove the game.",Object(k.jsx)("br",{}),"- Remove all bets associated with the game.",Object(k.jsx)("br",{})]})}),Object(k.jsxs)(F.a,{sx:{pr:2.5},children:[Object(k.jsx)(W.a,{onClick:v,color:"error",children:"Cancel"}),Object(k.jsx)(W.a,{variant:"contained",size:"small",onClick:C,color:"primary",children:h?Object(k.jsxs)(k.Fragment,{children:[" ",Object(k.jsx)(R.a,{color:"secondary",size:"1.7em"})]}):"Accept"})]})]})]})}var q=Object(o.a)((function(e){return{toggleButton:{backgroundColor:e.palette.error.main}}}));function Q(e){Object(u.a)(),q();var t=Object(i.useContext)(x.b).game,r=l.a.useState(!1),a=Object(s.a)(r,2),o=a[0],d=a[1],O=Object(i.useState)(!1),m=Object(s.a)(O,2),h=m[0],p=m[1],g=Object(H.b)(),y=Object($.a)().user,f=(Object(L.g)(),function(){d(!1)}),v=function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),y){e.next=4;break}return p(!1),e.abrupt("return",g({type:M.w,open:!0,message:"Please log in to edit member currency of the game!",variant:"alert",alertSeverity:"error",close:!0}));case 4:return e.prev=4,e.next=7,_.a.patch(J.a.apiHost+"/v1/members/topUpStartCurrency",{gameId:t.id});case 7:e.sent,f(),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(4),p(!1),e.abrupt("return",g({type:M.w,open:!0,message:e.t0.response?e.t0.response.data.message:e.t0.toString(),variant:"alert",alertSeverity:"error",close:!0}));case 15:p(!1),g({type:M.w,open:!0,message:"Successfully deleted game.",variant:"alert",alertSeverity:"success",close:!0});case 17:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)(j.a,{container:!0,justifyContent:"center",children:[Object(k.jsx)(W.a,{style:{width:"100%"},variant:"outlined",color:"warning",onClick:function(){d(!0)},children:"Top-up currency of broke members"}),Object(k.jsxs)(I.a,{fullWidth:!0,open:o,onClose:f,"aria-labelledby":"form-dialog-title",children:[Object(k.jsx)(z.a,{id:"form-dialog-title",children:Object(k.jsx)(b.a,{style:{fontSize:"1.7em",fontWeight:"bold"},children:"Top-up currency of broke members"})}),Object(k.jsx)(A.a,{children:Object(k.jsxs)(B.a,{children:["Are you sure you want to reset the currency of members, who currently own less than ",t.startCurrency.$numberDecimal+" "+t.currencyName," back to ",t.startCurrency.$numberDecimal+" "+t.currencyName,"? Be aware: ",Object(k.jsx)("br",{}),"- Currency that is spent on active bets will not be counted.",Object(k.jsx)("br",{}),"- Thus you might want to do this only when there is no open unpaid bets.",Object(k.jsx)("br",{})]})}),Object(k.jsxs)(F.a,{sx:{pr:2.5},children:[Object(k.jsx)(W.a,{onClick:f,color:"error",children:"Cancel"}),Object(k.jsx)(W.a,{variant:"contained",size:"small",onClick:v,color:"primary",children:h?Object(k.jsxs)(k.Fragment,{children:[" ",Object(k.jsx)(R.a,{color:"secondary",size:"1.7em"})]}):"Accept"})]})]})]})}var V=r(131);t.default=function(){var e=l.a.useContext(x.b),t=e.game,r=e.setGame,a=Object(H.b)(),i=l.a.useState(t.startCurrency.$numberDecimal),o=Object(s.a)(i,2),u=o[0],j=o[1],b=l.a.useState(""),d=Object(s.a)(b,2),O=d[0],m=d[1],h=l.a.useState(t.title),p=Object(s.a)(h,2),g=p[0],y=p[1],f=l.a.useState(t.currencyName),v=Object(s.a)(f,2),C=v[0],w=v[1],S=l.a.useState(t.desc),N=Object(s.a)(S,2),P=N[0],D=N[1],T=l.a.useState(t.isPublic),I=Object(s.a)(T,2),z=I[0],A=I[1],B=l.a.useState(t.isEnded),F=Object(s.a)(B,2),L=F[0],$=F[1],K=l.a.useState(t.bannerUrl),q=Object(s.a)(K,2),X=q[0],Y=q[1],Z=l.a.useState(t.language),ee=Object(s.a)(Z,2),te=ee[0],re=ee[1],ae=l.a.useState(!1),ne=Object(s.a)(ae,2),ce=ne[0],se=ne[1],ie=function(){var e=Object(c.a)(n.a.mark((function e(){var c,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(!0),e.prev=1,c={title:g,desc:P,isPublic:z,isEnded:L,startCurrency:u,currencyName:C,bannerUrl:X,language:te},e.next=5,_.a.patch(J.a.gameHosts[t.serverId]+"/v1/games/"+t.id,c);case 5:s=e.sent,a({type:M.w,open:!0,message:"Successfully changed settings",variant:"alert",alertSeverity:"success",close:!0}),r(s.data),se(!1),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(1),se(!1),e.abrupt("return",a({type:M.w,open:!0,message:e.t0.response?e.t0.response.data.message:e.t0.toString(),variant:"alert",alertSeverity:"error",close:!0}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(V.a,{children:Object(k.jsxs)("title",{children:[t.title," - Settings"]})}),Object(k.jsx)(U,{title:g,setTitle:y,desc:P,setDesc:D,bannerUrl:X,setBannerUrl:Y,language:te,setLanguage:re}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(E,{currencyName:C,setCurrencyName:w,startCurrency:u,setStartCurrency:j,password:O,setPassword:m,isPublic:z,setIsPublic:A,isEnded:L,setIsEnded:$}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(W.a,{style:{width:"100%"},variant:"outlined",color:"secondary",onClick:ie,children:ce?Object(k.jsxs)(k.Fragment,{children:[" ",Object(k.jsx)(R.a,{color:"secondary",size:"1.7em"})]}):"Update"}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(Q,{}),Object(k.jsx)("br",{}),Object(k.jsx)(G,{})]})}}}]);
//# sourceMappingURL=31.cf600987.chunk.js.map